#!/bin/zsh

# Set my theme. Muse is one I like because they have icons, git support, and 
# muse seems to work without additional configuration / support.
export ZSH_THEME="muse"
# I like to use the vim editor
export EDITOR='emacs'
# Tell zsh to auto-select the first completion when there is only one
zstyle '*' single-ignored complete
# Load these plugins when zsh starts (it will start AFTER this config  is processed
plugins=(brew dircycle gem git)
# Tell zsh to show red dots while searching for a completion
COMPLETION_WAITING_DOTS="true"

#
# OSX Settings
#
if expr "$OSTYPE" : darwin >/dev/null ; then
	# Open the TotalTerminal app
	open -a TotalTerminal 2>/dev/null
	# Setup homebrew
	export PATH=/usr/local/bin:$PATH
	
	# Setup a trash function
	trash() {
		CYAN="\x1B[36m"
		RED="\x1B[31m"
		RESET="\x1B[0m"
		export FILE=$@
		
		# If the file can't be found, then search $PWD
		[[ -e "$PWD/$FILE" ]] && export FILE=$PWD/$FILE
		# If the file is found, then delete. Otherwise error
		[[ -e "$FILE" ]] \
			&& $(/usr/bin/env osascript -e 'tell application "Finder" to delete POSIX file "'$FILE'"' 1>/dev/null) \
			|| echo -e "${RED}Cannot find the file ${CYAN}$FILE${RESET}"
	}
fi

# Run RVM init
if [[ -s "$HOME/.rvm/scripts/rvm" ]] ; then
	. "$HOME/.rvm/scripts/rvm" # This loads RVM into a shell session.
	PATH=$PATH:$HOME/.rvm/bin # Add RVM to PATH for scripting
fi

# Add my personal bin set
PATH=$PATH:~/usr/bin/
# Include git-flow
source "${0%/*}/git-flow-completion.zsh"

# Run phpbrew
if [[ -s "~/.phpbrew/bashrc" ]] ; then
	~/.phpbrew/bashrc # Load phpbrew
fi

# vim: set ft=zsh :
